<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。也就是说，Object 结构提供了“字符串—值”的对应，Map 结构提供了“值—值”的对应，

        // map相当于key与value都可以是值，相当于value对value

        const m = new Map();
        const o = {
            p: 'Hello World'
        };

        m.set(o, 'content')

        // Map 也可以接受一个数组作为参数。该数组的成员是一个个表示键值对的数组



        const map = new Map([
            ['name', '张三'],
            ['title', 'Author']
        ]);
        console.log(map)
        map.size // 2
        map.has('name') // true
        map.get('name') // "张三"
        map.has('title') // true
        map.get('title') // "Author"

        // ---------------
        // （ 1） Map 转为数组

        // 前面已经提过， Map 转为数组最方便的方法， 就是使用扩展运算符（...）。

        const mMap = new Map()
            .set(true, 7)
            .set({
                foo: 3
            }, ['abc']);
        [...mMap]
        // [ [ true, 7 ], [ { foo: 3 }, [ 'abc' ] ] ]

        // ---------------
        // 数组转为map
        new Map([
            [true, 7],
            [{
                    foo: 3
                },
                ['abc']
            ]
        ])
        // Map {
        //   true => 7,
        //   Object {foo: 3} => ['abc']
        // }

        // ---------------
        // map转为对象
        function strMapToObj(strMap) {
            let obj = Object.create(null);
            for (let [k, v] of strMap) {
                obj[k] = v;
            }
            return obj;
        }

        const myMap = new Map()
            .set('yes', true)
            .set('no', false);

        strMapToObj(myMap)
        // { yes: true, no: false }


        // ---------------
        //  对象转为 Map
        // 对象转为 Map 可以通过Object.entries(),将对象的键值对以数组返回出来。
        let obj = {
            "a": 1,
            "b": 2
        };
        console.log(Object.entries(obj))
        let mp = new Map(Object.entries(obj));
    </script>
</body>

</html>